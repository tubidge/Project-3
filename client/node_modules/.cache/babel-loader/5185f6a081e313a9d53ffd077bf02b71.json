{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\schaa\\\\Developer\\\\uubc\\\\homework\\\\auth0loginnew\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"C:\\\\Users\\\\schaa\\\\Developer\\\\uubc\\\\homework\\\\auth0loginnew\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\schaa\\\\Developer\\\\uubc\\\\homework\\\\auth0loginnew\\\\client\\\\src\\\\pages\\\\Profile.js\";\n\nimport React from \"react\";\nimport Loading from \"../components/Loading\";\nimport Form from \"../components/Form\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nvar Profile = function Profile(props) {\n  var _useAuth = useAuth0(),\n      loading = _useAuth.loading,\n      user = _useAuth.user;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var handleInputChange = function handleInputChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value;\n\n    _this.setState(_defineProperty({}, name, value));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault();\n    confirmAlert({\n      title: \"Create your account\",\n      message: \"Is everything right?\",\n      buttons: [{\n        label: \"Yes\",\n        onClick: function onClick() {\n          var user = {\n            firstName: _this.state.firstName.trim(),\n            lastName: _this.state.lastName.trim(),\n            username: _this.state.username.trim(),\n            email: _this.props.auth.user.email.trim() // profilePic: this.props.auth.user.profilePic\n\n          };\n          var firstName = user.firstName,\n              lastName = user.lastName,\n              username = user.username,\n              email = user.email;\n          axios.post(\"/add/user\", {\n            firstName: firstName,\n            lastName: lastName,\n            username: username,\n            email: email\n          }).then(function (result) {\n            if (result) {\n              _this.openModal();\n            }\n          });\n        }\n      }, {\n        label: \"No\",\n        onClick: function onClick() {\n          return null;\n        }\n      }]\n    });\n  };\n\n  var handleCancel = function handleCancel() {\n    _this.setState({\n      firstName: \"\",\n      lastName: \"\",\n      username: \"\"\n    });\n  };\n\n  var openModal = function openModal() {\n    setTimeout(function () {\n      _this.setState({\n        modalIsOpen: true\n      });\n    }, 50);\n    setTimeout(function () {\n      _this.setState({\n        modalIsOpen: false\n      });\n    }, 1000);\n  };\n\n  if (loading || !user) {\n    return React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    });\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container mb-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row align-items-center profile-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: user.picture,\n    alt: \"Profile\",\n    className: \"rounded-circle img-fluid profile-picture\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"col-md-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, user.name), React.createElement(\"p\", {\n    className: \"lead text-muted\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, user.email))), React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, user.given_name)), React.createElement(Form, {\n    handleSubmit: handleSubmit,\n    handleInputChange: handleInputChange,\n    username: state.username,\n    firstName: state.firstName,\n    lastName: state.lastName,\n    email: user.email,\n    handleCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }));\n};\n\nexport default Profile;","map":{"version":3,"sources":["C:\\Users\\schaa\\Developer\\uubc\\homework\\auth0loginnew\\client\\src\\pages\\Profile.js"],"names":["React","Loading","Form","useAuth0","Profile","props","loading","user","useState","username","setUsername","handleInputChange","e","target","name","value","setState","handleSubmit","preventDefault","confirmAlert","title","message","buttons","label","onClick","firstName","state","trim","lastName","email","auth","axios","post","then","result","openModal","handleCancel","setTimeout","modalIsOpen","picture","given_name"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport Loading from \"../components/Loading\";\nimport Form from \"../components/Form\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst Profile = props => {\n  const { loading, user } = useAuth0();\n  const [username, setUsername] = useState(0);\n\n  const handleInputChange = e => {\n    const { name, value } = e.target;\n\n    this.setState({\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    confirmAlert({\n      title: \"Create your account\",\n      message: \"Is everything right?\",\n      buttons: [\n        {\n          label: \"Yes\",\n          onClick: () => {\n            const user = {\n              firstName: this.state.firstName.trim(),\n              lastName: this.state.lastName.trim(),\n              username: this.state.username.trim(),\n              email: this.props.auth.user.email.trim()\n              // profilePic: this.props.auth.user.profilePic\n            };\n\n            const { firstName, lastName, username, email } = user;\n\n            axios\n              .post(\"/add/user\", {\n                firstName,\n                lastName,\n                username,\n                email\n              })\n              .then(result => {\n                if (result) {\n                  this.openModal();\n                }\n              });\n          }\n        },\n        {\n          label: \"No\",\n          onClick: () => null\n        }\n      ]\n    });\n  };\n\n  const handleCancel = () => {\n    this.setState({ firstName: \"\", lastName: \"\", username: \"\" });\n  };\n\n  const openModal = () => {\n    setTimeout(() => {\n      this.setState({ modalIsOpen: true });\n    }, 50);\n\n    setTimeout(() => {\n      this.setState({ modalIsOpen: false });\n    }, 1000);\n  };\n\n  if (loading || !user) {\n    return <Loading />;\n  }\n\n  return (\n    <div className=\"container mb-5\">\n      <div className=\"row align-items-center profile-header\">\n        <div className=\"col-md-2\">\n          <img\n            src={user.picture}\n            alt=\"Profile\"\n            className=\"rounded-circle img-fluid profile-picture\"\n          />\n        </div>\n        <div className=\"col-md-2\">\n          <h2>{user.name}</h2>\n          <p className=\"lead text-muted\">{user.email}</p>\n        </div>\n      </div>\n      <div className=\"row\">\n        <div>{user.given_name}</div>\n      </div>\n      <Form\n        handleSubmit={handleSubmit}\n        handleInputChange={handleInputChange}\n        username={state.username}\n        firstName={state.firstName}\n        lastName={state.lastName}\n        email={user.email}\n        handleCancel={handleCancel}\n      />\n    </div>\n  );\n};\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}